let aggreInterval,mistMapChart,timeChart,apioff=!1,timeLineList=[],serverId="",characterName="",characterId="";function loadingToggle(t=!0){t?($("#loadingScreen").css("height",$(document).height()),$("#loadingScreen").addClass("active"),$("#btn_search").addClass("disabled")):($("#loadingScreen").removeClass("active"),$("#btn_search").removeClass("disabled"))}$(document).ready(function(){$(document).on("click","#btn_lightmode",function(t){ligthModeChange(t.target)}),$(document).on("click",".row.title",function(){try{location.href="./"}catch(t){sessionStorage.clear(),location.href="https://dfgear.xyz"}}),$(window).resize(function(){$("#loadingScreen").css("height",$(document).height())}),$("#updateDate").text(updateDate),$("#advenTotal").text(`등록된 캐릭터 수 ${userCnt.toLocaleString()}개`),$("#beginRate").text(beginRate),$("#beginCnt").text(`${beginCnt.toLocaleString()}개`),$("#legacyCnt").text(`${legacyCnt.toLocaleString()}개`),$("#kirinCount").text(`${kirinCnt.toLocaleString()}개`),$("#starCnt").text(`${starTotal.toLocaleString()}개`),$("#starCount").text(`${starCnt.toLocaleString()}개`),channel10.forEach((t,e)=>{$("#chList").append(`<li class="list-group-item side somepd chName">TOP ${e+1} <h6>${t.channelName} - ${t.cnt.toLocaleString()}개</h6></li>`)}),digacy.forEach((t,e)=>{$("#digacyList ul").append(`<li class="list-group-item somepd"><img src="https://img-api.neople.co.kr/df/items/${t.itemId}">${t.itemName} <span class="badge bg-warning rounded-pill">${t.cnt.toLocaleString()}</span></li>`)}),beginCnts.forEach((t,e)=>{e<10&&$("#topThreeMist ul").append(`<li class="list-group-item somepd"><img src="https://img-api.neople.co.kr/df/items/${t.itemId}">${t.itemName} <span class="badge bg-warning rounded-pill">${t.cnt.toLocaleString()}</span></li>`),$("#beginGet").append(`<li class="list-group-item somepd"><img src="https://img-api.neople.co.kr/df/items/${t.itemId}">${t.itemName} <span class="badge bg-warning rounded-pill">${t.cnt.toLocaleString()}</span></li>`)});mistMapChart=makeChart("chart_beginMap","pie","유형별 획득분포",["숭배자","상던","환요","항아리","레이드","초월"],getData,["#5EC273","#9ECD6B","#D5D670","#FFDD82","#C4A64E","#A98244","#7C6A3A","#999999"],mistMapChart);let t=timeCnts.map(t=>t.cnt);const e=Math.max(...t),a=t.map(t=>t===e?"rgba(255, 99, 132, 0.2)":"rgba(54, 162, 235, 0.2)");timeChart=makeChart("chart_timeMap","bar","시간대별 획득량",["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],t,a,timeChart)});